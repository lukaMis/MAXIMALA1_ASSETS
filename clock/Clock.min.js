"use strict";var Clock=function(n){var t={},e=[],a=[],o=void 0,i=function(n){var t=new Date,e=t.getSeconds(),a=t.getMinutes(),i=t.getHours();o=n.id;var r=n.skin||"blue";void 0===n.id&&(o=Math.floor(i.toString()+a.toString()+e.toString()+(999999*Math.random()).toString()).toString()),null!=document.getElementById(o)&&(o=document.getElementById(o).id+"_"+Math.floor(i.toString()+a.toString()+e.toString()+(999999*Math.random()).toString()).toString());for(var d="",s='<div class="clock" id="'+o+'" data-face-color="'+r+'">',c='<div class="dialWrapper">',l="",u='<div class="handsWrapper">',f='<div class="clockHand" data-type="hours"></div>',_='<div class="clockHand" data-type="minutes"></div>',m='<div class="clockHand" data-type="seconds"></div>',g="</div>",p=1;p<13;p++){var v='<div class="dial" data-dial="'+p+'"></div>';l+=v}if(d=s+c+l+g+u+f+_+m+g+g,!n.parent)throw new Error("missing parent selector for Clock");document.getElementById(n.parent).innerHTML=d},r=function(n){$("#"+o+' div[data-type="hours"]').one("transitionend",d),void 0===n.hours&&(n.hours=0),void 0===n.minutes&&(n.minutes=0),void 0===n.seconds&&(n.seconds=0),e.length=0;var t=30*n.hours+n.minutes/2;t>=360&&(t-=360);var i=6*n.minutes;i>=360&&(i-=360);var r=6*n.seconds;r>=360&&(r-=360),a[0]&&(t<a[0].angle&&(t+=360),i<a[1].angle&&(i+=360),r<a[2].angle&&(r+=360)),e=[{hand:"hours",angle:t},{hand:"minutes",angle:i},{hand:"seconds",angle:r}];for(var s=0;s<e.length;s++)for(var c=document.getElementById(o).querySelectorAll('[data-type="'+e[s].hand+'"]'),l=0;l<c.length;l++)c[l].style.transform=" translate(-50%)  rotate("+e[s].angle+"deg)",c[l].style["transition-duration"]="";a.length=0,a=[{hand:"hours",angle:t},{hand:"minutes",angle:i},{hand:"seconds",angle:r}]},d=function n(){$("#"+o+' div[data-type="hours"]').off("transitionend",n),$(t).trigger("onTimeSet",{id:o}),s()},s=function(){var n=a[0].angle;n>=360&&(n-=360,a[0].angle=n);var t=a[1].angle;t>=360&&(t-=360,a[1].angle=t);var e=a[2].angle;e>=360&&(e-=360,a[2].angle=e);for(var i=0;i<a.length;i++)for(var r=document.getElementById(o).querySelectorAll('[data-type="'+a[i].hand+'"]'),d=0;d<r.length;d++)r[d].style.transform=" translate(-50%)  rotate("+a[i].angle+"deg)",r[d].style["transition-duration"]="0s"},c=function(){var n=new Date;return{hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds()}},l=function(){i(n),r({hours:0,minutes:0,seconds:0})};return l(),t.setTime=function(n){r(n)},t.setInitialTime=function(){r({hours:0,minutes:0,seconds:0}),$(t).trigger("onTimeSet",{id:o})},t.setCurrentTime=function(){r(c())},t.getId=function(){return o},t};