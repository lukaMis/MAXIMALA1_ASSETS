"use strict";var Clock=function(t){var n={},e=[],a=[],r=void 0,o=function(t){var n=new Date,e=n.getSeconds(),a=n.getMinutes(),o=n.getHours();r=t.id;var i=t.skin||"blue";void 0===t.id&&(r=Math.floor(o.toString()+a.toString()+e.toString()+(999999*Math.random()).toString()).toString()),null!=document.getElementById(r)&&(r=document.getElementById(r).id+"_"+Math.floor(o.toString()+a.toString()+e.toString()+(999999*Math.random()).toString()).toString());for(var s="",d='<div class="clock" id="'+r+'" data-face-color="'+i+'">',l='<div class="dialWrapper">',g="",u='<div class="handsWrapper">',c='<div class="clockHand" data-type="hours"></div>',v='<div class="clockHand" data-type="minutes"></div>',h='<div class="clockHand" data-type="seconds"></div>',m="</div>",f=1;f<13;f++){var y='<div class="dial" data-dial="'+f+'"></div>';g+=y}if(s=d+l+g+m+u+c+v+h+m+m,!t.parent)throw new Error("missing parent selector for Clock");document.getElementById(t.parent).innerHTML=s},i=function(t){t.skipTransitionListner===!0||$("#"+r+' div[data-type="hours"]').one("transitionend",s),void 0===t.hours&&(t.hours=0),void 0===t.minutes&&(t.minutes=0),void 0===t.seconds&&(t.seconds=0),e.length=0;var n=30*t.hours+t.minutes/2;n>=360&&(n-=360);var o=6*t.minutes;o>=360&&(o-=360);var i=6*t.seconds;i>=360&&(i-=360),a[0]&&(n<a[0].angle&&(n+=360),o<a[1].angle&&(o+=360),i<a[2].angle&&(i+=360)),e=[{hand:"hours",angle:n},{hand:"minutes",angle:o},{hand:"seconds",angle:i}];for(var d=0;d<e.length;d++)for(var l=document.getElementById(r).querySelectorAll('[data-type="'+e[d].hand+'"]'),g=0;g<l.length;g++)l[g].style.transform=" translate(-50%)  rotate("+e[d].angle+"deg)",l[g].style["transition-duration"]="";a.length=0,a=[{hand:"hours",angle:n},{hand:"minutes",angle:o},{hand:"seconds",angle:i}]},s=function t(){$("#"+r+' div[data-type="hours"]').off("transitionend",t),$(n).trigger("onTimeSet",{id:r}),d()},d=function(){var t=a[0].angle;t>=360&&(t-=360,a[0].angle=t);var n=a[1].angle;n>=360&&(n-=360,a[1].angle=n);var e=a[2].angle;e>=360&&(e-=360,a[2].angle=e);for(var o=0;o<a.length;o++)for(var i=document.getElementById(r).querySelectorAll('[data-type="'+a[o].hand+'"]'),s=0;s<i.length;s++)i[s].style.transform=" translate(-50%)  rotate("+a[o].angle+"deg)",i[s].style["transition-duration"]="0s"},l=function(){var t=new Date;return{hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()}},g=function(){o(t),i({hours:0,minutes:0,seconds:0,skipTransitionListner:!0})};return g(),n.setTime=function(t){i(t)},n.setInitialTime=function(){i({hours:0,minutes:0,seconds:0}),$(n).trigger("onTimeSet",{id:r})},n.setCurrentTime=function(){i(l())},n.getId=function(){return r},n};