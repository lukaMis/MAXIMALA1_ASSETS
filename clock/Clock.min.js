"use strict";var Clock=function(n){var e={},t=[{hand:"hours",angle:0},{hand:"minutes",angle:0},{hand:"seconds",angle:0}],o=[{hand:"hours",angle:0},{hand:"minutes",angle:0},{hand:"seconds",angle:0}],a=void 0,i=2.5,r=function(n){var e=new Date,t=e.getSeconds(),o=e.getMinutes(),i=e.getHours();a=n.id;var r=n.skin||"blue";void 0===n.id&&(a=Math.floor(i.toString()+o.toString()+t.toString()+(999999*Math.random()).toString()).toString()),null!=document.getElementById(a)&&(a=document.getElementById(a).id+"_"+Math.floor(i.toString()+o.toString()+t.toString()+(999999*Math.random()).toString()).toString());var d=0;d=void 0===n.hours?0:n.hours;var s=0;s=void 0===n.minutes?0:n.minutes;var l=0;l=void 0===n.seconds?0:n.seconds;for(var c="",u='<div class="clock" id="'+a+'" data-face-color="'+r+'">',g='<div class="dialWrapper">',f="",v='<div class="handsWrapper">',m='<div class="clockHand" data-type="hours" style="transform: translate(-50%) rotate('+(30*d+s/2)+'deg)"></div>',p='<div class="clockHand" data-type="minutes" style="transform: translate(-50%) rotate('+6*s+'deg)"></div>',h='<div class="clockHand" data-type="seconds" style="transform: translate(-50%) rotate('+6*l+'deg)"></div>',S="</div>",y=1;y<13;y++){var k='<div class="dial" data-dial="'+y+'"></div>';f+=k}if(c=u+g+f+S+v+m+p+h+S+S,!n.parent)throw new Error("missing parent selector for Clock");document.getElementById(n.parent).innerHTML=c},d=function(n){$("#"+a+' div[data-type="hours"]').one("transitionend",s),void 0===n.hours&&(n.hours=0),void 0===n.minutes&&(n.minutes=0),void 0===n.seconds&&(n.seconds=0),t.length=0;var e=30*n.hours+n.minutes/2;e>=360&&(e-=360);var r=6*n.minutes;r>=360&&(r-=360);var d=6*n.seconds;d>=360&&(d-=360),o[0]&&(e<o[0].angle&&(e+=360),r<o[1].angle&&(r+=360),d<o[2].angle&&(d+=360)),t=[{hand:"hours",angle:e},{hand:"minutes",angle:r},{hand:"seconds",angle:d}];var l=0;void 0===n.clockSpeed&&(l=i),0===n.clockSpeed&&(l=n.clockSpeed);for(var c=0;c<t.length;c++)for(var u=document.getElementById(a).querySelectorAll('[data-type="'+t[c].hand+'"]'),g=0;g<u.length;g++)u[g].style.transform=" translate(-50%)  rotate("+t[c].angle+"deg)",u[g].style["transition-duration"]=l+"s",u[g].style["transition-timing-function"]="linear";o.length=0,o=[{hand:"hours",angle:e},{hand:"minutes",angle:r},{hand:"seconds",angle:d}]},s=function n(){$("#"+a+' div[data-type="hours"]').off("transitionend",n),l(),$(e).trigger("onTimeSet",{id:a})},l=function(){var n=o[0].angle;n>=360&&(n-=360,o[0].angle=n);var e=o[1].angle;e>=360&&(e-=360,o[1].angle=e);var t=o[2].angle;t>=360&&(t-=360,o[2].angle=t);for(var i=0;i<o.length;i++)for(var r=document.getElementById(a).querySelectorAll('[data-type="'+o[i].hand+'"]'),d=0;d<r.length;d++)r[d].style["transition-duration"]="0s",r[d].style.transform=" translate(-50%)  rotate("+o[i].angle+"deg)"},c=function(){var n=new Date;return{hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds()}},u=function(){r(n)};return u(),e.setTime=function(n){d(n)},e.setCurrentTime=function(){d(c())},e.getId=function(){return a},e.setClockSpeed=function(n){i=n},e.getClockSpeed=function(){return i},e};